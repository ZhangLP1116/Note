> 语义分析：**主要任务是**将变量的定义与它们的各个使用联系起来，检查每一个表达式是否有正确的类型。

> ## 符号表
>
> ​		语义分析阶段的一个主要工作是符号表的管理，符号表也成为**环境**，作用是将标识符映射到它们的类型和存储位置（将变量名对于到一个类型和内存地址）。
>
> ​		1、声明变量、函数、类时，在符号表中创建对应的表项，将标识符和其含义对应起来。
>
> ​		2、使用标识符时，在符号表中查看它们的含义，在进行对应的操作
>
> #### **符号表的管理**
>
> ​		在程序编译过程中符号表是不断变化的，根据变量的作用域而变化，当超出作用域是改变量就要从符号表中删除。对于不同作用域中的变量符号表的管理往往有两种处理方式。
>
> ​		1、**函数式处理：**存在Q~1~表的情况下加入新的表项时保持Q~1~表不变，创建新的Q~2~表。这样可以随着访问Q~1~表中的变量（实现P75）
>
> ​		2、**命令式处理：**存在Q~1~表的情况下加入新的表项时修改Q~1~表，这种方式会使得新的同名变量覆盖老的表项，不能访问老变量。同时当局部变量超出作用域后需要删除表项恢复全局变量表项就要求这种处理要有恢复功能。这种设计模式下一般会有一个**符号表Q**和一个**撤销栈**（同名新变量入栈，失效后出栈，栈顶永远保留当前作用域下的符号表项）（实现P76）
>
> （从效率上来看命令式处理效率要高，且空间开销小）

> ## 检查
>
> 语义分析的另一个任务是检查每一个表达式
>
> 1、表达式类型检查（变量、下表、域的类型检查）
>
> 2、声明类型检查（变量、类型、函数、递归声明的检查）

> **词法分析：**分离出一个个独立的token——>**语法分析：**根据一个个token分析是否符合语法结构，并确定其语法含义——>**语义分析：**使用语法分析检查正确性，并创建程序的环境