> 简介
>
> ​		公钥密码学使得人们可以在不共享私钥的情况下进行加密通信，可以做数字签名。便利性使得人们对它爱不释手，但是这里忽略了一个很基础的问题——如何得到一个不认识的人的公钥？
>
> ​		从一个随处可见的地方获得的公钥很可能时攻击者故意放置的，所以公钥的安全性管理是使用公钥的前期。

> 证书
>
> ​		**证书：**由认证中心（CA，Certification Authority）机构分发，用来将公钥和个体或组织绑定在一起。试想以下Bob向Alice提供了一个公钥，说这是自己的公钥，那么Alice如何辨别这是真的？这就像是日常生活中张三说自己是张三，那么张三要证明自己就需要出示例如身份证一类的**具有权威机构颁发的带有身份消息的证明。**证书就是这一类物品。由CA颁发，个体或组织通过提交资料给CA，CA用私钥对其内容的散列值进行签名，这就形成了一张证书。
>
> ​		**个体或组织提交的内容包含：**公钥（这是最主要的消息），个体或组织的介绍，颁发日期，联系方式，颁发的CA等信息。
>
> ​		有了一个人有了证书后就可以将其放置在个人网站上供人获取，下面分别从不同角度验证证书是否有效。
>
> ​		请求者：获取证书，进行散列值计算，使用公钥对证书上的散列值解密，比较两个散列值的区别若相同则证书有效，可以信任。
>
> ​		伪装者：获取证书，修改其中公钥内容，由于没有CA的私钥无法对新的散列值进行签名，所以证书作假被发现。

> X.509
>
> ​		X.509：用于管理不同格式的证书协议，它规定了证书必须要由以下格式
>
> ​			Version：X.509的哪个不变
>
> ​			Serial number：此数值加上CA的名字唯一标识了证书
>
> ​			Signature algorithm：用来签名证书的算法
>
> ​			Issuer：CA的X.509名字
>
> ​			Validity period：证书有效期的开始时间和结束时间
>
> ​			Subject name：哪个实体的密钥得到了验证
>
> ​			Public key：主题的公钥和算法的ID
>
> ​			Issuer ID：可选ID唯一标识证书分发者
>
> ​			Subject ID：可选ID唯一标识证书主题
>
> ​			Extendsions：已经定义了多少扩展字段
>
> ​			Signature：证书的签名

> 公钥基础设施
>
> ​		**PKI：**公开密钥基础设施（Public Key Infrastructure），它包含了用户、CA、证书和目录，PKI所做的事情是提供一种方法将这些组件有序的组织起来。
>
> ​		**PKI的层次结构：**在整个公钥管理体系中CA扮演这一个非常重要的角色，那么选择谁来做这个CA呢？这又是一个世界难题，和对称密钥保存中心类似，人们难以找出一个在全世界范围内大家都认同的权威机构，所以CA一般有多个，并且根据不同的区域CA成树形结构，一个大区域有一个根CA，其下的小区域有一个地区CA以此类推。**一般根CA是整个地区所认可的权威机构，小区域CA是这个小区域内的权威机构，这个小区域的CA也拥有一个证书用来证明自己，这个证书由其上级CA分发，依此方法若能一直追溯到一个可信任的根CA则这个CA是可信任的。**
>
> ​		**目录服务器：**PKI要解决的另一个问题是在哪里存放证书，一种是用户自己保存。另一种方式是用DNS服务器来保存，一位用户在联系另一个用户前大多要进行域名解析，所以可以在这一步一起将证书发送给用户。还有一种方法是单独设置一个目录服务器用来存放证书，有了这个服务器后不仅仅可以应答用户请求，也可以更好的管理所有方法的证书。
>
> ​		**证书撤销：**CA通过分发一个证书撤销列表（CRL，Certificate Rovocation List），该CRL列出所有已经被撤销的证书序列号。目录服务器是CRL的接收者，接收到CRL后目录服务器需要对保存的证书数据进行修改，以便后续正常工作。CRL携带有CA的签名一以防止伪造。

