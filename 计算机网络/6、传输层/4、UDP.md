> UDP协议
>
> ​	UDP特点：面向无连接，它除了给应用程序提供发送数据包的功能并允许他们在所需层次之上架构自己的协议意外不做其他特别的事。
>
> ​	UDP通常运行在用户空间，可以把UDP的使用看作是应用程序
>
> ​	UDP帧格式：UDP数据段由8个字节的头和有效载荷构成，2字节源端口、2字节目标端口、2字节UDP长度、2字节UDP校验。（P418图6-27）
>
> ​	UDP特别有用的一个领域是客户机-服务器应用开发。

> UDP应用——远程过程调用（RPC，Remote Procedure Call）
>
> ​	RPC实现的效果是向一台远程计算机发送一个消息斌获得一个应答，就如同在编程语言中执行一个函数调用一样。
>
> ​	PRC实现流程，在客户机中应用程序必须绑定到一个客户存根，它代表客户地址空间中的服务器进程，同样在服务机中服务进程也要绑定到一个服务器存根，他代表服务器地址空间中的客户进程。
>
> ​	完整的调用过程是：
>
> ​	1、客户机进程传递数据给客户存根
>
> ​	2、客户存根将数据打包通过系统调用发送给服务器（封装参数的过程称为列集）
>
> ​	3、服务器收到数据，交给对应端口的进程也就是服务器存根
>
> ​	4、服务器存根拆封参数（散集）传递给服务器进程
>
> ​	（服务器在处理完之后逆向传递给客户机进程）
>
> ​	整个过程在程序员看起来就是一个客户机进程调用本地服务器进程一样，其中存根模拟对端进程并且实现数据结构的翻译，通过系统调用使用UDP进程发送数据包

> UDP应用——实时传输协议
>
> ​	UDP的另一个应用领域是实时多媒体应用。随着Internet 电话、视频会议、网络直播等多媒体应用的普及，人们发现每一种应用都在或多或少地重复设计几乎相同的实时传输协议。于生实时传输协议（RTP，Real-time Transport Protocol）诞生了。
>
> ​	RTP使用UDP封装数据，传输数据时多媒体应用流被送入RTP库中，RTP库将这些流复用并编码到RTP数据包。数据包被塞入套接字。套接字底下是UDP协议。UDP数据包被IP封装，在网络上传输。接收端应用程序从RTP库函数中接收到多媒体数据，并播放。
>
> ​	承载RTP的UDP数据包可用被发送给一台主机（单播传输模式），也可以被发送到多台目标主机（组播传输模式）
>
> ​	**RTP数据包格式：**RTP需要实现差错控制，**RTP数据包携带有编号**，接收端可以从编号上得知哪些数据包丢失，根据应用的不同进行不同的处理，如视频应用就可以跳过该帧、音频应用可以使用插值法估计已丢失的值。重传不是实时多媒体应用中的有效解决方法。**RTP数据包携带由时间戳**，该字节可用用来在接收端实现视频音频的同步工作。时间戳的差值在这里才是有意义的。（P423图6-31）
>
> ​	**RTP接收端处理：**处理数据包丢失、实现媒体数据同步播放、处理抖动。（P424带有缓冲和抖动控制的播放）