> 什么是上下文切换
>
> 上下文切换就是将CPU正在处理的进程当前信息保存，替换为另外一个进行进程某一时刻执行时的信息。
>
> 上下文切换的目的是暂时停止当前运行的程序，为了保证以后正确的运行就需要保存当前CPU运算时保存的运算信息，即各种寄存器、标志位信息等。
>
> ![image-20210217131228524](image\image-20210217131228524.png)

> 什么时候要进行上下文切换
>
> 发生中断、CPU调度算法、进程阻塞等时刻需要进行上下文切换。

> 怎么进行上下文切换
>
> 上下文切换需要保存当前CPU执行时的现场信息。被叫做上下文，而这些信息的保存的地方就是进程管理模块（PCB）。每当发生进程切换时，操作系统就将当前执行的进程上下文信息保存在PCB中，也就是将CPU硬件中存在的寄存器信息保存在PCB中。
>
> ![image-20210217132059158](image\image-20210217132059158.png)
>
> ![image-20210217132429262](image\image-20210217132429262.png)

> 进程的创建（ fork() ）

> 进程的加载、切换、执行（ exec() ）

> 进程的终止（exit()、wait() ）

> 进程状态与系统调用关系图
>
> exec（）系统调用会使得进程处于多个不同的状态，如进程的创建，进程的状态变迁
>
> ![image-20210217135328049](image\image-20210217135328049.png)